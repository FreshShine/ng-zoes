{"version":3,"file":"ng-zoes.js","sources":["../../projects/ng-zoes/lib/theme/languages/zh-CN.ts","../../projects/ng-zoes/lib/theme/locale.tokens.ts","../../projects/ng-zoes/lib/theme/locale.service.ts","../../projects/ng-zoes/lib/theme/locale.module.ts","../../projects/ng-zoes/lib/components/table/table.component.ts","../../projects/ng-zoes/lib/components/table/table-columns-buttons/table-columns-buttons.component.ts","../../projects/ng-zoes/lib/components/droppable/droppable.component.ts","../../projects/ng-zoes/lib/components/upload/upload.component.ts","../../projects/ng-zoes/lib/theme/utils/validator.ts","../../projects/ng-zoes/lib/theme/utils/util.ts","../../projects/ng-zoes/lib/service/components.service.ts","../../projects/ng-zoes/lib/components/loading/loading.component.ts","../../projects/ng-zoes/lib/service/loading/loading.service.ts","../../projects/ng-zoes/lib/components/file-check/file-check.component.ts","../../projects/ng-zoes/lib/service/file-view/file-view.service.ts","../../projects/ng-zoes/lib/components/upload/interface.ts","../../projects/ng-zoes/lib/theme/languages/zh-TW.ts","../../projects/ng-zoes/lib/theme/languages/en-US.ts","../../projects/ng-zoes/lib/components/card/card.component.ts","../../projects/ng-zoes/lib/components/upload/upload-btn.component.ts","../../projects/ng-zoes/lib/components/upload/upload-list.component.ts","../../projects/ng-zoes/lib/pipe/table/render.pipe.ts","../../projects/ng-zoes/lib/pipe/table/table.pipe.ts","../../projects/ng-zoes/ng-zoes.module.ts","../../projects/ng-zoes/index.ts","../../projects/ng-zoes/lib/components/table/table.service.ts","../../projects/ng-zoes/lib/components/upload/files-service.service.ts","../../projects/ng-zoes/ng-zoes.ts"],"sourcesContent":["import { FullLocaleData } from '../locale.types';\r\n\r\nexport default {\r\n  abbr: 'zh-CN',\r\n  zt: {\r\n    emptyText: '暂无数据',\r\n    clearText: '清空',\r\n    total: '共 {{total}} 条',\r\n  },\r\n  zu: {\r\n    uploading: '文件上传中',\r\n    removeFile: '删除文件',\r\n    uploadError: '上传错误',\r\n    previewFile: '预览文件',\r\n    downloadFile: '下载文件',\r\n    uploadStorage: '暂存文件',\r\n  },\r\n  zf:{\r\n    submit:'提交',\r\n    cancel:'取消',\r\n  }\r\n} as FullLocaleData;\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const ZOE_LOCALE = new InjectionToken<string>('zoe-locale');\r\n","import { Inject, Injectable, Optional, Provider, SkipSelf } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nimport { NzI18nService, zh_CN, zh_TW, en_US, } from 'ng-zorro-antd/i18n';\r\n\r\nimport zhCN from './languages/zh-CN';\r\nimport { ZOE_LOCALE } from './locale.tokens';\r\nimport { FullLocaleData, LocaleData } from './locale.types';\r\n\r\nconst localeData = {\r\n  \"en-US\": en_US,\r\n  \"zh-CN\": zh_CN,\r\n  \"zh-TW\": zh_TW,\r\n}\r\n\r\n@Injectable()\r\nexport class LocaleService {\r\n  private _locale: FullLocaleData;\r\n  private change$ = new BehaviorSubject<FullLocaleData>(this._locale);\r\n\r\n  constructor(\r\n    private i18n: NzI18nService,\r\n    @Inject(ZOE_LOCALE) locale: FullLocaleData | null\r\n  ) {\r\n    this.setLocale(locale || zhCN);\r\n  }\r\n\r\n  get change(): Observable<FullLocaleData> {\r\n    return this.change$.asObservable();\r\n  }\r\n\r\n  setLocale(locale: FullLocaleData): void {\r\n    // console.log(locale)\r\n    if (this._locale && this._locale.abbr === locale.abbr) {\r\n      return;\r\n    }\r\n    this._locale = locale;\r\n    for (const [key, value] of Object.entries(localeData)) {\r\n      if(locale.abbr == key){\r\n        console.log(value)\r\n        this.i18n.setLocale(value);\r\n        // this.i18n.setLocale(value);\r\n      }\r\n    }\r\n    this.change$.next(locale);\r\n  }\r\n\r\n  get locale(): FullLocaleData {\r\n    return this._locale;\r\n  }\r\n\r\n  getData(path: keyof FullLocaleData): LocaleData {\r\n    return (this._locale[path] || {}) as LocaleData;\r\n  }\r\n}\r\n\r\nexport function LOCALE_SERVICE_PROVIDER_FACTORY(exist: LocaleService, locale: FullLocaleData): LocaleService {\r\n  return exist || new LocaleService(null, locale);\r\n}\r\n\r\nexport const LOCALE_SERVICE_PROVIDER: Provider = {\r\n  provide: LocaleService,\r\n  useFactory: LOCALE_SERVICE_PROVIDER_FACTORY,\r\n  deps: [[new Optional(), new SkipSelf(), LocaleService], ZOE_LOCALE],\r\n};\r\n","import { NgModule } from '@angular/core';\r\n\r\n// import zhCN from './languages/zh_CN';\r\nimport zhCN from './languages/zh-CN';\r\n\r\nimport { LOCALE_SERVICE_PROVIDER } from './locale.service';\r\nimport { ZOE_LOCALE } from './locale.tokens';\r\n\r\n@NgModule({\r\n  providers: [{ provide: ZOE_LOCALE, useValue: zhCN }, LOCALE_SERVICE_PROVIDER],\r\n})\r\nexport class LocaleModule {}\r\n","import { Component, OnInit, Input, Output, ViewChild, EventEmitter, ChangeDetectorRef, SimpleChanges } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\nimport {LocaleService} from './../../theme/locale.service';\r\nimport {\r\n  STChange,\r\n  STChangeType,\r\n  STColumn,\r\n  STColumnButton,\r\n  STColumnFilterMenu,\r\n  STColumnSelection,\r\n  STData,\r\n  STError,\r\n  STExportOptions,\r\n  STLoadOptions,\r\n  STMultiSort,\r\n  STPage,\r\n  STReq,\r\n  STRes,\r\n  STResetColumnsOption,\r\n  STRowClassName,\r\n  STSingleSort,\r\n  STStatisticalResults,\r\n  STWidthMode,\r\n} from './table.interface';\r\nimport { TableService } from './table.service';\r\nimport { NzTableComponent } from 'ng-zorro-antd';\r\n\r\n@Component({\r\n  selector: 'zt',\r\n  templateUrl: './table.component.html',\r\n  styleUrls: ['./table.component.styl']\r\n})\r\nexport class TableComponent implements OnInit {\r\n\r\n  //静态数据源\r\n  @Input() data: any;\r\n  @Input() columns: STColumn[] = [];\r\n  @Input() ps = 10; //每页展示多少数据，可双向绑定\r\n  @Input() pi = 1;//当前页码，可双向绑定\r\n  @Input() total: any;\r\n  @Input() loading: boolean | null = null;\r\n  @Input() scroll: { y?: string; x?: string };\r\n\r\n  //请求接口获取数据源\r\n  @Input() url: string;\r\n  @Input() req: STReq;\r\n  @Input() page: STPage;\r\n\r\n  @Input() operators: any;\r\n\r\n  @Output() readonly change = new EventEmitter<STChange>();\r\n  //样式\r\n  @Input() bordered: boolean = false;\r\n\r\n  @ViewChild('table', { static: false }) readonly orgTable: NzTableComponent;\r\n\r\n\r\n  _allChecked = false;\r\n  _allCheckedDisabled = false;\r\n  _indeterminate = false;\r\n\r\n  private totalTpl = ``;\r\n\r\n  //分页\r\n  _isPagination = true; //是否显示分页器\r\n  _isSizeChanger = false//是否可以改变 nzPageSize\r\n  _isQuickJumper = false; //是否可以快速跳转至某页\r\n  _isPageSizeOptions = [10, 20, 30, 40, 50]   //页数选择器可选值\r\n  _isOnSinglePage = false;  //只有一页时是否隐藏分页器\r\n  _paginationPosition = 'bottom'; //指定分页显示的位置   'top' | 'bottom' | 'both'\r\n  _frontPagination = true //是否在前端对数据进行分页(data=>true,)，如果在服务器分页数据或者需要在前端显示全部数据时传入 false\r\n\r\n  //local\r\n  local:any;\r\n  _data:any = [];\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private servie: TableService,\r\n    private locale:LocaleService,\r\n  ) { \r\n    this.local = this.locale.getData('zt') \r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.\r\n    //Add '${implements OnChanges}' to the class.\r\n    // console.log(changes);\r\n    \r\n    if (changes['url'] || changes['req'] || changes['pi'] || changes['ps']) {\r\n      // this._frontPagination = false;\r\n      this._loadData(this.url, this.req);\r\n    }else if(changes['data']){\r\n      this._showData(changes['data'].currentValue)\r\n    }\r\n    if (changes['loading']) {\r\n      // console.log(\"loading change\")\r\n    }\r\n    if (changes['operators']) {\r\n      this._changeOperator(changes['operators'].currentValue)\r\n    }\r\n    \r\n    if (changes['page']) {\r\n      this.updateTotalTpl();\r\n      this._changePage(changes['page'].currentValue);\r\n    }\r\n  }\r\n\r\n  private _refCheck() {\r\n    // console.log(this._data);\r\n    // console.log(this.ps);\r\n    const validData = this._data.filter(w => !w.disabled);\r\n    const checkedList = validData.filter(w => w.checked === true);\r\n    console.log(checkedList);\r\n    this._allChecked = checkedList.length > 0 && checkedList.length === validData.length;\r\n    const allUnChecked = validData.every(value => !value.checked);\r\n    this._indeterminate = !this._allChecked && !allUnChecked;\r\n    console.log(\"_indeterminate:\"+this._indeterminate);\r\n    \r\n    this._allCheckedDisabled = this._data.length === this._data.filter(w => w.disabled).length;\r\n    return this.cd();\r\n  }\r\n\r\n\r\n  cd() {\r\n    this.cdr.detectChanges();\r\n    return this;\r\n  }\r\n\r\n  private updateTotalTpl(): void {\r\n    const { total } = this.page;\r\n    if (typeof total === 'string' && total.length) {\r\n      this.totalTpl = total;\r\n    } else if (this.toBoolean(total)) {\r\n      this.totalTpl = this.local.total;\r\n    } else {\r\n      this.totalTpl = '';\r\n    }\r\n  }\r\n\r\n  toBoolean(value: any, allowUndefined: boolean | null = false): boolean | undefined {\r\n    return allowUndefined && typeof value === 'undefined' ? undefined : value != null && `${value}` !== 'false';\r\n  }\r\n\r\n  _checkNotify(): this {\r\n    const res = this._data.filter(w => !w.disabled && w.checked === true);\r\n    console.log(res);\r\n    \r\n    this.changeEmit('checkbox', res);\r\n    return this;\r\n  }\r\n\r\n  _checkAll(checked: boolean, item: STData) {\r\n    checked = typeof checked === 'undefined' ? this._allChecked : checked;\r\n    this._data.filter(w => !w.disabled).forEach(i => (i.checked = checked));\r\n    return this._refCheck()._checkNotify();\r\n  }\r\n\r\n  //单选\r\n  _checkSelection(i: STData, value: boolean) {\r\n    i.checked = value;\r\n    return this._refCheck()._checkNotify();\r\n  }\r\n\r\n  _refRadio(checked: boolean, item: STData): this {\r\n    this._data.filter(w => !w.disabled).forEach(i => (i.checked = false));\r\n    item.checked = checked;\r\n    this.changeEmit('radio', item);\r\n    return this;\r\n  }\r\n\r\n  _changeOperator(operators) {\r\n    const filterOperators = [];//过滤隐藏的按钮\r\n    if (operators && operators.length > 0) {\r\n      operators.forEach((data) => {\r\n        data['hidden'] ? null : filterOperators.push(data);\r\n      });\r\n      this.operators = filterOperators;\r\n    }\r\n  }\r\n\r\n  _changePage(page) {\r\n    this._frontPagination = page.front\r\n    this._isPageSizeOptions = page.pageSizes;\r\n    this._paginationPosition = page.position;\r\n    this._isPagination = page.show;\r\n    this._isQuickJumper = page.showQuickJumper;\r\n    this._isSizeChanger = page.showSize;\r\n  }\r\n\r\n  _pageIndexChange(pi) {\r\n    this.pi = pi;\r\n    this._allChecked = false;\r\n    this.changeEmit('pi', pi);\r\n  }\r\n\r\n  _pageSizeChange(ps) {\r\n    this.pi = 1;\r\n    this.ps = ps;\r\n    this.changeEmit('ps', ps);\r\n  }\r\n\r\n  _showData(data){\r\n    this._data = data;\r\n    this.total = this.total?this.total:data.length\r\n  }\r\n\r\n  _loadData(url, req) {\r\n    if(!url){\r\n      return ;\r\n    }\r\n\r\n    if (req['reName']) {\r\n      req.params[req['reName']['pi']] = this.pi - 1\r\n      req.params[req['reName']['ps']] = this.ps\r\n    }\r\n    this.loading = true;\r\n    this.servie.patchHero(url, req).subscribe((res) => {\r\n      this._data = res;\r\n      this.loading = false;\r\n      this.changeEmit('loaded', res);\r\n      return this._refCheck()._checkNotify();\r\n    }, ((error) => { this.loading = false; }))\r\n  }\r\n\r\n  _rowClick(e: Event, item: STData, index: number) {\r\n    if ((e.target as HTMLElement).nodeName === 'INPUT') return;\r\n    const data = { e, item, index };\r\n    this.changeEmit('click', data);\r\n  }\r\n\r\n  setData(list,total) {\r\n    this._data = list //重新赋值\r\n    this.total = total\r\n  }\r\n\r\n  private changeEmit(type: STChangeType, data?: any) {\r\n    // console.log(data);\r\n    \r\n    const res: STChange = {\r\n      type,\r\n      pi: this.pi,\r\n      ps: this.ps,\r\n      total: this.total,\r\n    };\r\n    if (data != null) {\r\n      res[type] = data;\r\n    }\r\n    this.change.emit(res);\r\n  }\r\n\r\n\r\n  renderTotal(total: string, range: string[]) {\r\n    return this.totalTpl\r\n      ? this.totalTpl.replace('{{total}}', this.total?this.total : total).replace('{{range[0]}}', range[0]).replace('{{range[1]}}', range[1])\r\n      : '';\r\n  }\r\n\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'table-columns-buttons',\r\n  templateUrl: './table-columns-buttons.component.html',\r\n  styleUrls: ['./table-columns-buttons.component.styl']\r\n})\r\nexport class TableColumnsButtonsComponent implements OnInit {\r\n\r\n  @Input() buttons: any;\r\n  @Input() type:any = 'button';  //button or link\r\n  @Input() row: any;\r\n  @Input() rowIndex: number;\r\n  @Input() extButtons = [];\r\n\r\n\r\n  normalButtons = [];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    var canAccessActions: any = [];\r\n    for (const iterator of this.buttons) {\r\n      if (iterator['permission']) {\r\n        //有权限限制\r\n        if (iterator['permission'](this.row, this.rowIndex)) {\r\n          canAccessActions.push(iterator);\r\n        }\r\n      } else {\r\n        //无权限限制\r\n        canAccessActions.push(iterator);\r\n      }\r\n    }\r\n    this.normalButtons = canAccessActions\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, TemplateRef, Output, EventEmitter, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'az-droppable',\n  templateUrl: './droppable.component.html',\n  styleUrls: ['./droppable.component.styl']\n})\nexport class DroppableComponent implements OnInit {\n  @Input() data: any[];\n  @Input() renderItem: TemplateRef<void>;\n  @Input() disabled: boolean = false;\n  @Output() private zdSortChange = new EventEmitter<any>();\n\n  public options: any;\n\n  constructor() {\n    this.options = {\n      onUpdate: (event: any) => {\n        this.zdSortChange.emit(this.data);\n      }\n    };\n   }\n\n  ngOnInit() {\n    this._setOption(this.disabled)\n  }\n\n\n  ngOnChanges(changes: SimpleChanges): void {\n    //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.\n    //Add '${implements OnChanges}' to the class.\n    if (changes['disabled']) {\n      this._disabledChange(changes['disabled'].currentValue)\n    }\n  }\n\n  _disabledChange(value) {\n    this._setOption(value)\n  }\n\n  _setOption(value) {\n    this.disabled= value;\n  }\n\n}\n\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  TemplateRef,\r\n  ViewChild,\r\n  Injector\r\n} from '@angular/core';\r\nimport { BooleanInput, NumberInput, NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { Observable, of, Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { LocaleService } from './../../theme/locale.service';\r\n\r\nimport { InputBoolean, InputNumber, toBoolean } from 'ng-zorro-antd/core/util';\r\nimport { NzI18nService, NzUploadI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\nimport {\r\n  NzShowUploadList,\r\n  NzUploadChangeParam,\r\n  NzUploadFile,\r\n  NzUploadListType,\r\n  NzUploadTransformFileType,\r\n  NzUploadType,\r\n  NzUploadXHRArgs,\r\n  UploadFilter,\r\n  ZipButtonOptions\r\n} from './interface';\r\nimport { UploadBtnComponent } from './upload-btn.component';\r\nimport { UploadListComponent } from './upload-list.component';\r\n\r\n\r\nfunction getBase64(file: File): Promise<string | ArrayBuffer | null> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\n@Component({\r\n  selector: 'zu',\r\n  templateUrl: './upload.component.html',\r\n  styleUrls: ['./upload.component.styl']\r\n})\r\nexport class UploadComponent implements OnInit {\r\n  static ngAcceptInputType_nzLimit: NumberInput;\r\n  static ngAcceptInputType_nzSize: NumberInput;\r\n  static ngAcceptInputType_nzDirectory: BooleanInput;\r\n  static ngAcceptInputType_nzOpenFileDialogOnClick: BooleanInput;\r\n  static ngAcceptInputType_nzDisabled: BooleanInput;\r\n  static ngAcceptInputType_nzMultiple: BooleanInput;\r\n  static ngAcceptInputType_nzShowUploadList: BooleanInput | NzShowUploadList | undefined | null;\r\n  static ngAcceptInputType_nzShowButton: BooleanInput;\r\n  static ngAcceptInputType_nzWithCredentials: BooleanInput;\r\n\r\n  private i18n$!: Subscription;\r\n  @ViewChild('uploadComp', { static: false }) uploadComp!: UploadBtnComponent;\r\n  @ViewChild('listComp', { static: false }) listComp!: UploadListComponent;\r\n\r\n  locale!: NzUploadI18nInterface;\r\n\r\n  // #region fields\r\n\r\n  @Input() option: any;\r\n\r\n  @Input() nzType: NzUploadType = 'select';\r\n  @Input() nzSort: boolean = false;\r\n  @Input() @InputNumber() nzLimit = 0;\r\n  @Input() @InputNumber() nzSize = 0;\r\n\r\n  @Input() nzFileType?: string;\r\n  @Input() nzAccept?: string | string[];\r\n  @Input() nzAction?: string | ((file: NzUploadFile) => string | Observable<string>);\r\n  @Input() @InputBoolean() nzDirectory = false;\r\n  @Input() @InputBoolean() nzOpenFileDialogOnClick = true;\r\n  @Input() nzBeforeUpload?: (file: NzUploadFile, fileList: NzUploadFile[]) => boolean | Observable<boolean>;\r\n  @Input() nzCustomRequest?: (item: NzUploadXHRArgs) => Subscription;\r\n  @Input() nzData?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\r\n  @Input() nzFilter: UploadFilter[] = [];\r\n  @Input() nzFileList: NzUploadFile[] = [];\r\n  @Input() @InputBoolean() nzDisabled = false;\r\n  @Input() @InputBoolean() nzCompress = false;\r\n  @Input() nzQuality:Number = 0.5;\r\n  @Input() NZConvertSize:Number = 5000;\r\n\r\n  @Input() nzHeaders?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\r\n  @Input() nzListType: NzUploadListType = 'text';\r\n  @Input() @InputBoolean() nzMultiple = false;\r\n  @Input() nzName = 'file';\r\n\r\n  private _showUploadList: boolean | NzShowUploadList = true;\r\n\r\n  @Input()\r\n  set nzShowUploadList(value: boolean | NzShowUploadList) {\r\n    this._showUploadList = typeof value === 'boolean' ? toBoolean(value) : value;\r\n  }\r\n\r\n  get nzShowUploadList(): boolean | NzShowUploadList {\r\n    return this._showUploadList;\r\n  }\r\n\r\n  @Input() @InputBoolean() nzShowButton = true;\r\n  @Input() @InputBoolean() nzWithCredentials = false;\r\n\r\n\r\n\r\n\r\n\r\n  @Input() nzRemove?: (file: NzUploadFile) => boolean | Observable<boolean>;\r\n  @Input() nzPreview?: (file: NzUploadFile) => void;\r\n  @Input() nzPreviewFile?: (file: NzUploadFile) => Observable<string>;\r\n  @Input() nzTransformFile?: (file: NzUploadFile) => NzUploadTransformFileType;\r\n  @Input() nzDownload?: (file: NzUploadFile) => void;\r\n  @Input() nzIconRender: TemplateRef<NzSafeAny> | null = null;\r\n  @Input() nzFileListRender: TemplateRef<void> | null = null;\r\n\r\n  @Output() readonly nzChange: EventEmitter<NzUploadChangeParam> = new EventEmitter<NzUploadChangeParam>();\r\n  @Output() readonly nzFileListChange: EventEmitter<NzUploadFile[]> = new EventEmitter<NzUploadFile[]>();\r\n\r\n  _btnOptions?: ZipButtonOptions;\r\n\r\n  private zipOptions(): this {\r\n    if (typeof this.nzShowUploadList === 'boolean' && this.nzShowUploadList) {\r\n      this.nzShowUploadList = {\r\n        showPreviewIcon: true,\r\n        showRemoveIcon: true,\r\n        showDownloadIcon: true\r\n      };\r\n    }\r\n    // filters\r\n    const filters: UploadFilter[] = this.nzFilter.slice();\r\n    if (this.nzMultiple && this.nzLimit > 0 && filters.findIndex(w => w.name === 'limit') === -1) {\r\n      filters.push({\r\n        name: 'limit',\r\n        fn: (fileList: NzUploadFile[]) => fileList.slice(-this.nzLimit)\r\n      });\r\n    }\r\n    if (this.nzSize > 0 && filters.findIndex(w => w.name === 'size') === -1) {\r\n      filters.push({\r\n        name: 'size',\r\n        fn: (fileList: NzUploadFile[]) => fileList.filter(w => w.size! / 1024 <= this.nzSize)\r\n      });\r\n    }\r\n    if (this.nzFileType && this.nzFileType.length > 0 && filters.findIndex(w => w.name === 'type') === -1) {\r\n      const types = this.nzFileType.split(',');\r\n      filters.push({\r\n        name: 'type',\r\n        fn: (fileList: NzUploadFile[]) => fileList.filter(w => ~types.indexOf(w.type!))\r\n      });\r\n    }\r\n    this._btnOptions = {\r\n      compress:this.nzCompress,\r\n      quality:this.nzQuality,\r\n      convertSize:this.NZConvertSize,\r\n      disabled: this.nzDisabled,\r\n      accept: this.nzAccept,\r\n      action: this.nzAction,\r\n      directory: this.nzDirectory,\r\n      openFileDialogOnClick: this.nzOpenFileDialogOnClick,\r\n      beforeUpload: this.nzBeforeUpload,\r\n      customRequest: this.nzCustomRequest,\r\n      data: this.nzData,\r\n      headers: this.nzHeaders,\r\n      name: this.nzName,\r\n      multiple: this.nzMultiple,\r\n      withCredentials: this.nzWithCredentials,\r\n      filters,\r\n      transformFile: this.nzTransformFile,\r\n      onStart: this.onStart,\r\n      onProgress: this.onProgress,\r\n      onSuccess: this.onSuccess,\r\n      onError: this.onError\r\n    };\r\n    return this;\r\n  }\r\n\r\n  // #endregion\r\n\r\n  constructor(private cdr: ChangeDetectorRef, private localeService: LocaleService,\r\n    private injector: Injector, ) {\r\n    this.locale = this.localeService.getData('zu')\r\n    this.detectChangesList();\r\n  }\r\n\r\n  // #region upload\r\n\r\n  private fileToObject(file: NzUploadFile): NzUploadFile {\r\n    return {\r\n      lastModified: file.lastModified,\r\n      lastModifiedDate: file.lastModifiedDate,\r\n      name: file.filename || file.name,\r\n      size: file.size,\r\n      type: file.type,\r\n      uid: file.uid,\r\n      response: file.response,\r\n      error: file.error,\r\n      percent: 0,\r\n      originFileObj: file as NzSafeAny\r\n    };\r\n  }\r\n\r\n  private getFileItem(file: NzUploadFile, fileList: NzUploadFile[]): NzUploadFile {\r\n    return fileList.filter(item => item.uid === file.uid)[0];\r\n  }\r\n\r\n  private removeFileItem(file: NzUploadFile, fileList: NzUploadFile[]): NzUploadFile[] {\r\n    return fileList.filter(item => item.uid !== file.uid);\r\n  }\r\n\r\n  private onStart = (file: NzUploadFile): void => {\r\n\r\n    if (!this.nzFileList) {\r\n      this.nzFileList = [];\r\n    }\r\n\r\n    const targetItem = this.fileToObject(file);\r\n    targetItem.status = 'uploading';\r\n    this.nzFileList = this.nzFileList.concat(targetItem);\r\n    this.nzFileListChange.emit(this.nzFileList);\r\n    this.nzChange.emit({ file: targetItem, fileList: this.nzFileList, type: 'start' });\r\n    this.detectChangesList();\r\n  };\r\n\r\n  private onProgress = (e: { percent: number }, file: NzUploadFile): void => {\r\n\r\n    const fileList = this.nzFileList;\r\n    const targetItem = this.getFileItem(file, fileList);\r\n    targetItem.percent = e.percent;\r\n    this.nzChange.emit({\r\n      event: e,\r\n      file: { ...targetItem },\r\n      fileList: this.nzFileList,\r\n      type: 'progress'\r\n    });\r\n    this.detectChangesList();\r\n  };\r\n\r\n  private onSuccess = (res: {}, file: NzUploadFile): void => {\r\n\r\n    const fileList = this.nzFileList;\r\n    const targetItem = this.getFileItem(file, fileList);\r\n    targetItem.status = 'done';\r\n    targetItem.response = res;\r\n    this.nzChange.emit({\r\n      file: { ...targetItem },\r\n      fileList,\r\n      type: 'success'\r\n    });\r\n    this.detectChangesList();\r\n  };\r\n\r\n  private onError = (err: {}, file: NzUploadFile): void => {\r\n\r\n    const fileList = this.nzFileList;\r\n    const targetItem = this.getFileItem(file, fileList);\r\n    targetItem.error = err;\r\n    targetItem.status = this.nzAction ? 'error' : 'done';\r\n    this.nzChange.emit({\r\n      file: { ...targetItem },\r\n      fileList,\r\n      type: this.nzAction ? 'error' : 'success'\r\n    });\r\n    this.detectChangesList();\r\n  };\r\n\r\n  // #endregion\r\n\r\n  // #region drag\r\n\r\n  private dragState?: string;\r\n\r\n  // skip safari bug\r\n  fileDrop(e: DragEvent): void {\r\n    if (e.type === this.dragState) {\r\n      return;\r\n    }\r\n    this.dragState = e.type;\r\n    this.setClassMap();\r\n  }\r\n\r\n  // #endregion\r\n\r\n  // #region list\r\n\r\n  private detectChangesList(): void {\r\n    // this.cdr.detectChanges();\r\n    // this.listComp.detectChanges();\r\n  }\r\n\r\n  onRemove = (file: NzUploadFile): void => {\r\n\r\n    this.uploadComp.abort(file);\r\n    file.status = 'removed';\r\n    const fnRes = typeof this.nzRemove === 'function' ? this.nzRemove(file) : this.nzRemove == null ? true : this.nzRemove;\r\n    (fnRes instanceof Observable ? fnRes : of(fnRes)).pipe(filter((res: boolean) => res)).subscribe(() => {\r\n      this.nzFileList = this.removeFileItem(file, this.nzFileList);\r\n      this.nzChange.emit({\r\n        file,\r\n        fileList: this.nzFileList,\r\n        type: 'removed'\r\n      });\r\n      this.nzFileListChange.emit(this.nzFileList);\r\n      this.cdr.detectChanges();\r\n    });\r\n  };\r\n\r\n  // #endregion\r\n\r\n  // #region styles\r\n\r\n  private prefixCls = 'ant-upload';\r\n  classList: string[] = [];\r\n\r\n  private setClassMap(): void {\r\n\r\n    let subCls: string[] = [];\r\n    if (this.nzType === 'drag') {\r\n      if (this.nzFileList.some(file => file.status === 'uploading')) {\r\n        subCls.push(`${this.prefixCls}-drag-uploading`);\r\n      }\r\n      if (this.dragState === 'dragover') {\r\n        subCls.push(`${this.prefixCls}-drag-hover`);\r\n      }\r\n    } else {\r\n      subCls = [`${this.prefixCls}-select-${this.nzListType}`];\r\n    }\r\n\r\n    this.classList = [\r\n      this.prefixCls,\r\n      `${this.prefixCls}-${this.nzType}`,\r\n      ...subCls,\r\n      (this.nzDisabled && `${this.prefixCls}-disabled`) || ''\r\n    ].filter(item => !!item);\r\n\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  // #endregion\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.zipOptions().setClassMap();\r\n  }\r\n\r\n\r\n  listChange(e) {\r\n    this.nzFileList = e;\r\n    console.log(e)\r\n    this.nzChange.emit({ file: e.length>0?e[e.length-1]:{}, fileList: e, type: 'sort' })\r\n  }\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\nimport { from, Observable } from 'rxjs';\r\n\r\n/**\r\n * Validator utility function library:\r\n *\r\n * Validator and error utilities:\r\n *   _executeValidators, _executeAsyncValidators, _mergeObjects, _mergeErrors\r\n *\r\n * Individual value checking:\r\n *   isDefined, hasValue, isEmpty\r\n *\r\n * Individual type checking:\r\n *   isString, isNumber, isInteger, isBoolean, isFunction, isObject, isArray,\r\n *   isMap, isSet, isPromise, isObservable\r\n *\r\n * Multiple type checking and fixing:\r\n *   getType, isType, isPrimitive, toJavaScriptType, toSchemaType,\r\n *   _toPromise, toObservable\r\n *\r\n * Utility functions:\r\n *   inArray, xor\r\n *\r\n * Typescript types and interfaces:\r\n *   SchemaPrimitiveType, SchemaType, JavaScriptPrimitiveType, JavaScriptType,\r\n *   PrimitiveValue, PlainObject, IValidatorFn, AsyncIValidatorFn\r\n *\r\n * Note: 'IValidatorFn' is short for 'invertable validator function',\r\n *   which is a validator functions that accepts an optional second\r\n *   argument which, if set to TRUE, causes the validator to perform\r\n *   the opposite of its original function.\r\n */\r\n\r\nexport type SchemaPrimitiveType =\r\n  'string' | 'number' | 'integer' | 'boolean' | 'null';\r\nexport type SchemaType =\r\n  'string' | 'number' | 'integer' | 'boolean' | 'null' | 'object' | 'array';\r\nexport type JavaScriptPrimitiveType =\r\n  'string' | 'number' | 'boolean' | 'null' | 'undefined';\r\nexport type JavaScriptType =\r\n  'string' | 'number' | 'boolean' | 'null' | 'undefined' | 'object' | 'array' |\r\n  'map' | 'set' | 'arguments' | 'date' | 'error' | 'function' | 'json' |\r\n  'math' | 'regexp'; // Note: this list is incomplete\r\nexport type PrimitiveValue = string | number | boolean | null | undefined;\r\nexport interface PlainObject { [k: string]: any; }\r\n\r\nexport type IValidatorFn = (c: AbstractControl, i?: boolean) => PlainObject;\r\nexport type AsyncIValidatorFn = (c: AbstractControl, i?: boolean) => any;\r\n\r\n/**\r\n * '_executeValidators' utility function\r\n *\r\n * Validates a control against an array of validators, and returns\r\n * an array of the same length containing a combination of error messages\r\n * (from invalid validators) and null values (from valid validators)\r\n *\r\n * //  { AbstractControl } control - control to validate\r\n * //  { IValidatorFn[] } validators - array of validators\r\n * //  { boolean } invert - invert?\r\n * // { PlainObject[] } - array of nulls and error message\r\n */\r\nexport function _executeValidators(control, validators, invert = false) {\r\n  return validators.map(validator => validator(control, invert));\r\n}\r\n\r\n/**\r\n * '_executeAsyncValidators' utility function\r\n *\r\n * Validates a control against an array of async validators, and returns\r\n * an array of observabe results of the same length containing a combination of\r\n * error messages (from invalid validators) and null values (from valid ones)\r\n *\r\n * //  { AbstractControl } control - control to validate\r\n * //  { AsyncIValidatorFn[] } validators - array of async validators\r\n * //  { boolean } invert - invert?\r\n * //  - array of observable nulls and error message\r\n */\r\nexport function _executeAsyncValidators(control, validators, invert = false) {\r\n  return validators.map(validator => validator(control, invert));\r\n}\r\n\r\n/**\r\n * '_mergeObjects' utility function\r\n *\r\n * Recursively Merges one or more objects into a single object with combined keys.\r\n * Automatically detects and ignores null and undefined inputs.\r\n * Also detects duplicated boolean 'not' keys and XORs their values.\r\n *\r\n * //  { PlainObject[] } objects - one or more objects to merge\r\n * // { PlainObject } - merged object\r\n */\r\nexport function _mergeObjects(...objects) {\r\n  const mergedObject: PlainObject = { };\r\n  for (const currentObject of objects) {\r\n    if (isObject(currentObject)) {\r\n      for (const key of Object.keys(currentObject)) {\r\n        const currentValue = currentObject[key];\r\n        const mergedValue = mergedObject[key];\r\n        mergedObject[key] = !isDefined(mergedValue) ? currentValue :\r\n          key === 'not' && isBoolean(mergedValue, 'strict') &&\r\n            isBoolean(currentValue, 'strict') ? xor(mergedValue, currentValue) :\r\n          getType(mergedValue) === 'object' && getType(currentValue) === 'object' ?\r\n            _mergeObjects(mergedValue, currentValue) :\r\n            currentValue;\r\n      }\r\n    }\r\n  }\r\n  return mergedObject;\r\n}\r\n\r\n/**\r\n * '_mergeErrors' utility function\r\n *\r\n * Merges an array of objects.\r\n * Used for combining the validator errors returned from 'executeValidators'\r\n *\r\n * //  { PlainObject[] } arrayOfErrors - array of objects\r\n * // { PlainObject } - merged object, or null if no usable input objectcs\r\n */\r\nexport function _mergeErrors(arrayOfErrors) {\r\n  const mergedErrors = _mergeObjects(...arrayOfErrors);\r\n  return isEmpty(mergedErrors) ? null : mergedErrors;\r\n}\r\n\r\n/**\r\n * 'isDefined' utility function\r\n *\r\n * Checks if a variable contains a value of any type.\r\n * Returns true even for otherwise 'falsey' values of 0, '', and false.\r\n *\r\n * //   value - the value to check\r\n * // { boolean } - false if undefined or null, otherwise true\r\n */\r\nexport function isDefined(value) {\r\n  return value !== undefined && value !== null;\r\n}\r\n\r\n/**\r\n * 'hasValue' utility function\r\n *\r\n * Checks if a variable contains a value.\r\n * Returs false for null, undefined, or a zero-length strng, '',\r\n * otherwise returns true.\r\n * (Stricter than 'isDefined' because it also returns false for '',\r\n * though it stil returns true for otherwise 'falsey' values 0 and false.)\r\n *\r\n * //   value - the value to check\r\n * // { boolean } - false if undefined, null, or '', otherwise true\r\n */\r\nexport function hasValue(value) {\r\n  return value !== undefined && value !== null && value !== '';\r\n}\r\n\r\n/**\r\n * 'isEmpty' utility function\r\n *\r\n * Similar to !hasValue, but also returns true for empty arrays and objects.\r\n *\r\n * //   value - the value to check\r\n * // { boolean } - false if undefined, null, or '', otherwise true\r\n */\r\nexport function isEmpty(value) {\r\n  if (isArray(value)) { return !value.length; }\r\n  if (isObject(value)) { return !Object.keys(value).length; }\r\n  return value === undefined || value === null || value === '';\r\n}\r\n\r\n/**\r\n * 'isString' utility function\r\n *\r\n * Checks if a value is a string.\r\n *\r\n * //   value - the value to check\r\n * // { boolean } - true if string, false if not\r\n */\r\nexport function isString(value) {\r\n  return typeof value === 'string';\r\n}\r\n\r\n/**\r\n * 'isNumber' utility function\r\n *\r\n * Checks if a value is a regular number, numeric string, or JavaScript Date.\r\n *\r\n * //   value - the value to check\r\n * //  { any = false } strict - if truthy, also checks JavaScript tyoe\r\n * // { boolean } - true if number, false if not\r\n */\r\nexport function isNumber(value, strict: any = false) {\r\n  if (strict && typeof value !== 'number') { return false; }\r\n  return !isNaN(value) && value !== value / 0;\r\n}\r\n\r\n/**\r\n * 'isInteger' utility function\r\n *\r\n * Checks if a value is an integer.\r\n *\r\n * //   value - the value to check\r\n * //  { any = false } strict - if truthy, also checks JavaScript tyoe\r\n * // {boolean } - true if number, false if not\r\n */\r\nexport function isInteger(value, strict: any = false) {\r\n  if (strict && typeof value !== 'number') { return false; }\r\n  return !isNaN(value) &&  value !== value / 0 && value % 1 === 0;\r\n}\r\n\r\n/**\r\n * 'isBoolean' utility function\r\n *\r\n * Checks if a value is a boolean.\r\n *\r\n * //   value - the value to check\r\n * //  { any = null } option - if 'strict', also checks JavaScript type\r\n *                              if TRUE or FALSE, checks only for that value\r\n * // { boolean } - true if boolean, false if not\r\n */\r\nexport function isBoolean(value, option: any = null) {\r\n  if (option === 'strict') { return value === true || value === false; }\r\n  if (option === true) {\r\n    return value === true || value === 1 || value === 'true' || value === '1';\r\n  }\r\n  if (option === false) {\r\n    return value === false || value === 0 || value === 'false' || value === '0';\r\n  }\r\n  return value === true || value === 1 || value === 'true' || value === '1' ||\r\n    value === false || value === 0 || value === 'false' || value === '0';\r\n}\r\n\r\nexport function isFunction(item: any): boolean {\r\n  return typeof item === 'function';\r\n}\r\n\r\nexport function isObject(item: any): boolean {\r\n  return item !== null && typeof item === 'object';\r\n}\r\n\r\nexport function isArray(item: any): boolean {\r\n  return Array.isArray(item);\r\n}\r\n\r\nexport function isDate(item: any): boolean {\r\n  return !!item && Object.prototype.toString.call(item) === '[object Date]';\r\n}\r\n\r\nexport function isMap(item: any): boolean {\r\n  return !!item && Object.prototype.toString.call(item) === '[object Map]';\r\n}\r\n\r\nexport function isSet(item: any): boolean {\r\n  return !!item && Object.prototype.toString.call(item) === '[object Set]';\r\n}\r\n\r\nexport function isSymbol(item: any): boolean {\r\n  return typeof item === 'symbol';\r\n}\r\n\r\n/**\r\n * 'getType' function\r\n *\r\n * Detects the JSON Schema Type of a value.\r\n * By default, detects numbers and integers even if formatted as strings.\r\n * (So all integers are also numbers, and any number may also be a string.)\r\n * However, it only detects true boolean values (to detect boolean values\r\n * in non-boolean formats, use isBoolean() instead).\r\n *\r\n * If passed a second optional parameter of 'strict', it will only detect\r\n * numbers and integers if they are formatted as JavaScript numbers.\r\n *\r\n * Examples:\r\n * getType('10.5') = 'number'\r\n * getType(10.5) = 'number'\r\n * getType('10') = 'integer'\r\n * getType(10) = 'integer'\r\n * getType('true') = 'string'\r\n * getType(true) = 'boolean'\r\n * getType(null) = 'null'\r\n * getType({ }) = 'object'\r\n * getType([]) = 'array'\r\n *\r\n * getType('10.5', 'strict') = 'string'\r\n * getType(10.5, 'strict') = 'number'\r\n * getType('10', 'strict') = 'string'\r\n * getType(10, 'strict') = 'integer'\r\n * getType('true', 'strict') = 'string'\r\n * getType(true, 'strict') = 'boolean'\r\n *\r\n * //   value - value to check\r\n * //  { any = false } strict - if truthy, also checks JavaScript tyoe\r\n * // { SchemaType }\r\n */\r\nexport function getType(value, strict: any = false) {\r\n  if (!isDefined(value)) { return 'null'; }\r\n  if (isArray(value)) { return 'array'; }\r\n  if (isObject(value)) { return 'object'; }\r\n  if (isBoolean(value, 'strict')) { return 'boolean'; }\r\n  if (isInteger(value, strict)) { return 'integer'; }\r\n  if (isNumber(value, strict)) { return 'number'; }\r\n  if (isString(value) || (!strict && isDate(value))) { return 'string'; }\r\n  return null;\r\n}\r\n\r\n/**\r\n * 'isType' function\r\n *\r\n * Checks wether an input (probably string) value contains data of\r\n * a specified JSON Schema type\r\n *\r\n * //  { PrimitiveValue } value - value to check\r\n * //  { SchemaPrimitiveType } type - type to check\r\n * // { boolean }\r\n */\r\nexport function isType(value, type) {\r\n  switch (type) {\r\n    case 'string':\r\n      return isString(value) || isDate(value);\r\n    case 'number':\r\n      return isNumber(value);\r\n    case 'integer':\r\n      return isInteger(value);\r\n    case 'boolean':\r\n      return isBoolean(value);\r\n    case 'null':\r\n      return !hasValue(value);\r\n    default:\r\n      console.error(`isType error: \"${type}\" is not a recognized type.`);\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n * 'isPrimitive' function\r\n *\r\n * Checks wether an input value is a JavaScript primitive type:\r\n * string, number, boolean, or null.\r\n *\r\n * //   value - value to check\r\n * // { boolean }\r\n */\r\nexport function isPrimitive(value) {\r\n  return (isString(value) || isNumber(value) ||\r\n    isBoolean(value, 'strict') || value === null);\r\n}\r\n\r\n/**\r\n * 'toJavaScriptType' function\r\n *\r\n * Converts an input (probably string) value to a JavaScript primitive type -\r\n * 'string', 'number', 'boolean', or 'null' - before storing in a JSON object.\r\n *\r\n * Does not coerce values (other than null), and only converts the types\r\n * of values that would otherwise be valid.\r\n *\r\n * If the optional third parameter 'strictIntegers' is TRUE, and the\r\n * JSON Schema type 'integer' is specified, it also verifies the input value\r\n * is an integer and, if it is, returns it as a JaveScript number.\r\n * If 'strictIntegers' is FALSE (or not set) the type 'integer' is treated\r\n * exactly the same as 'number', and allows decimals.\r\n *\r\n * Valid Examples:\r\n * toJavaScriptType('10',   'number' ) = 10   // '10'   is a number\r\n * toJavaScriptType('10',   'integer') = 10   // '10'   is also an integer\r\n * toJavaScriptType( 10,    'integer') = 10   //  10    is still an integer\r\n * toJavaScriptType( 10,    'string' ) = '10' //  10    can be made into a string\r\n * toJavaScriptType('10.5', 'number' ) = 10.5 // '10.5' is a number\r\n *\r\n * Invalid Examples:\r\n * toJavaScriptType('10.5', 'integer') = null // '10.5' is not an integer\r\n * toJavaScriptType( 10.5,  'integer') = null //  10.5  is still not an integer\r\n *\r\n * //  { PrimitiveValue } value - value to convert\r\n * //  { SchemaPrimitiveType | SchemaPrimitiveType[] } types - types to convert to\r\n * //  { boolean = false } strictIntegers - if FALSE, treat integers as numbers\r\n * // { PrimitiveValue }\r\n */\r\nexport function toJavaScriptType(value, types, strictIntegers = true)  {\r\n  if (!isDefined(value)) { return null; }\r\n  if (isString(types)) { types = [types]; }\r\n  if (strictIntegers && inArray('integer', types)) {\r\n    if (isInteger(value, 'strict')) { return value; }\r\n    if (isInteger(value)) { return parseInt(value, 10); }\r\n  }\r\n  if (inArray('number', types) || (!strictIntegers && inArray('integer', types))) {\r\n    if (isNumber(value, 'strict')) { return value; }\r\n    if (isNumber(value)) { return parseFloat(value); }\r\n  }\r\n  if (inArray('string', types)) {\r\n    if (isString(value)) { return value; }\r\n    // If value is a date, and types includes 'string',\r\n    // convert the date to a string\r\n    if (isDate(value)) { return value.toISOString().slice(0, 10); }\r\n    if (isNumber(value)) { return value.toString(); }\r\n  }\r\n  // If value is a date, and types includes 'integer' or 'number',\r\n  // but not 'string', convert the date to a number\r\n  if (isDate(value) && (inArray('integer', types) || inArray('number', types))) {\r\n    return value.getTime();\r\n  }\r\n  if (inArray('boolean', types)) {\r\n    if (isBoolean(value, true)) { return true; }\r\n    if (isBoolean(value, false)) { return false; }\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * 'toSchemaType' function\r\n *\r\n * Converts an input (probably string) value to the \"best\" JavaScript\r\n * equivalent available from an allowed list of JSON Schema types, which may\r\n * contain 'string', 'number', 'integer', 'boolean', and/or 'null'.\r\n * If necssary, it does progressively agressive type coersion.\r\n * It will not return null unless null is in the list of allowed types.\r\n *\r\n * Number conversion examples:\r\n * toSchemaType('10', ['number','integer','string']) = 10 // integer\r\n * toSchemaType('10', ['number','string']) = 10 // number\r\n * toSchemaType('10', ['string']) = '10' // string\r\n * toSchemaType('10.5', ['number','integer','string']) = 10.5 // number\r\n * toSchemaType('10.5', ['integer','string']) = '10.5' // string\r\n * toSchemaType('10.5', ['integer']) = 10 // integer\r\n * toSchemaType(10.5, ['null','boolean','string']) = '10.5' // string\r\n * toSchemaType(10.5, ['null','boolean']) = true // boolean\r\n *\r\n * String conversion examples:\r\n * toSchemaType('1.5x', ['boolean','number','integer','string']) = '1.5x' // string\r\n * toSchemaType('1.5x', ['boolean','number','integer']) = '1.5' // number\r\n * toSchemaType('1.5x', ['boolean','integer']) = '1' // integer\r\n * toSchemaType('1.5x', ['boolean']) = true // boolean\r\n * toSchemaType('xyz', ['number','integer','boolean','null']) = true // boolean\r\n * toSchemaType('xyz', ['number','integer','null']) = null // null\r\n * toSchemaType('xyz', ['number','integer']) = 0 // number\r\n *\r\n * Boolean conversion examples:\r\n * toSchemaType('1', ['integer','number','string','boolean']) = 1 // integer\r\n * toSchemaType('1', ['number','string','boolean']) = 1 // number\r\n * toSchemaType('1', ['string','boolean']) = '1' // string\r\n * toSchemaType('1', ['boolean']) = true // boolean\r\n * toSchemaType('true', ['number','string','boolean']) = 'true' // string\r\n * toSchemaType('true', ['boolean']) = true // boolean\r\n * toSchemaType('true', ['number']) = 0 // number\r\n * toSchemaType(true, ['number','string','boolean']) = true // boolean\r\n * toSchemaType(true, ['number','string']) = 'true' // string\r\n * toSchemaType(true, ['number']) = 1 // number\r\n *\r\n * //  { PrimitiveValue } value - value to convert\r\n * //  { SchemaPrimitiveType | SchemaPrimitiveType[] } types - allowed types to convert to\r\n * // { PrimitiveValue }\r\n */\r\nexport function toSchemaType(value, types) {\r\n  if (!isArray(<SchemaPrimitiveType>types)) {\r\n    types = <SchemaPrimitiveType[]>[types];\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('null') && !hasValue(value)) {\r\n    return null;\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('boolean') && !isBoolean(value, 'strict')) {\r\n    return value;\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('integer')) {\r\n    const testValue = toJavaScriptType(value, 'integer');\r\n    if (testValue !== null) { return +testValue; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('number')) {\r\n    const testValue = toJavaScriptType(value, 'number');\r\n    if (testValue !== null) { return +testValue; }\r\n  }\r\n  if (\r\n    (isString(value) || isNumber(value, 'strict')) &&\r\n    (<SchemaPrimitiveType[]>types).includes('string')\r\n  ) { // Convert number to string\r\n    return toJavaScriptType(value, 'string');\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('boolean') && isBoolean(value)) {\r\n    return toJavaScriptType(value, 'boolean');\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('string')) { // Convert null & boolean to string\r\n    if (value === null) { return ''; }\r\n    const testValue = toJavaScriptType(value, 'string');\r\n    if (testValue !== null) { return testValue; }\r\n  }\r\n  if ((\r\n    (<SchemaPrimitiveType[]>types).includes('number') ||\r\n    (<SchemaPrimitiveType[]>types).includes('integer'))\r\n  ) {\r\n    if (value === true) { return 1; } // Convert boolean & null to number\r\n    if (value === false || value === null || value === '') { return 0; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('number')) { // Convert mixed string to number\r\n    const testValue = parseFloat(<string>value);\r\n    if (!!testValue) { return testValue; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('integer')) { // Convert string or number to integer\r\n    const testValue = parseInt(<string>value, 10);\r\n    if (!!testValue) { return testValue; }\r\n  }\r\n  if ((<SchemaPrimitiveType[]>types).includes('boolean')) { // Convert anything to boolean\r\n    return !!value;\r\n  }\r\n  if ((\r\n      (<SchemaPrimitiveType[]>types).includes('number') ||\r\n      (<SchemaPrimitiveType[]>types).includes('integer')\r\n    ) && !(<SchemaPrimitiveType[]>types).includes('null')\r\n  ) {\r\n    return 0; // If null not allowed, return 0 for non-convertable values\r\n  }\r\n}\r\n\r\n/**\r\n * 'isPromise' function\r\n *\r\n * //   object\r\n * // { boolean }\r\n */\r\nexport function isPromise(object): object is Promise<any> {\r\n  return !!object && typeof object.then === 'function';\r\n}\r\n\r\n/**\r\n * 'isObservable' function\r\n *\r\n * //   object\r\n * // { boolean }\r\n */\r\nexport function isObservable(object): object is Observable<any> {\r\n  return !!object && typeof object.subscribe === 'function';\r\n}\r\n\r\n/**\r\n * '_toPromise' function\r\n *\r\n * //  { object } object\r\n * // { Promise<any> }\r\n */\r\nexport function _toPromise(object): Promise<any> {\r\n  return isPromise(object) ? object : object.toPromise();\r\n}\r\n\r\n/**\r\n * 'toObservable' function\r\n *\r\n * //  { object } object\r\n * // { Observable<any> }\r\n */\r\nexport function toObservable(object): Observable<any> {\r\n  const observable = isPromise(object) ? from(object) : object;\r\n  if (isObservable(observable)) { return observable; }\r\n  console.error('toObservable error: Expected validator to return Promise or Observable.');\r\n  return new Observable();\r\n}\r\n\r\n/**\r\n * 'inArray' function\r\n *\r\n * Searches an array for an item, or one of a list of items, and returns true\r\n * as soon as a match is found, or false if no match.\r\n *\r\n * If the optional third parameter allIn is set to TRUE, and the item to find\r\n * is an array, then the function returns true only if all elements from item\r\n * are found in the array list, and false if any element is not found. If the\r\n * item to find is not an array, setting allIn to TRUE has no effect.\r\n *\r\n * //  { any|any[] } item - the item to search for\r\n * //   array - the array to search\r\n * //  { boolean = false } allIn - if TRUE, all items must be in array\r\n * // { boolean } - true if item(s) in array, false otherwise\r\n */\r\nexport function inArray(item, array, allIn = false) {\r\n  if (!isDefined(item) || !isArray(array)) { return false; }\r\n  return isArray(item) ?\r\n    item[allIn ? 'every' : 'some'](subItem => array.includes(subItem)) :\r\n    array.includes(item);\r\n}\r\n\r\n/**\r\n * 'xor' utility function - exclusive or\r\n *\r\n * Returns true if exactly one of two values is truthy.\r\n *\r\n * //   value1 - first value to check\r\n * //   value2 - second value to check\r\n * // { boolean } - true if exactly one input value is truthy, false if not\r\n */\r\nexport function xor(value1, value2) {\r\n  return (!!value1 && !value2) || (!value1 && !!value2);\r\n}\r\n","import { hasValue, inArray, isArray, isDefined, isEmpty, isMap, isObject, isSet, isString, PlainObject } from './validator';\r\n\r\nconst REGEXP_IMAGE_TYPE = /^image\\/.+$/;\r\nconst REGEXP_VIDEO_TYPE = /^video\\/.+$/;\r\n\r\n\r\nexport function toBool(value: any, defaultValue: boolean) {\r\n    value = toBoolean(value, true);\r\n    return value == null ? defaultValue : value;\r\n}\r\n\r\nexport function toBoolean(value: any, allowUndefined: boolean | null = false): boolean | undefined {\r\n    return allowUndefined && typeof value === 'undefined' ? undefined : value != null && `${value}` !== 'false';\r\n}\r\n\r\nexport function isImageType(value) {\r\n    return REGEXP_IMAGE_TYPE.test(value);\r\n}\r\n\r\nexport function isVideoType(value) {\r\n    return REGEXP_VIDEO_TYPE.test(value);\r\n}\r\n\r\nexport function getFileType(fileName) {\r\n    // 后缀获取\r\n    let suffix = '';\r\n    // 获取类型结果\r\n    let result = '';\r\n    try {\r\n        const flieArr = fileName.split('.');\r\n        suffix = flieArr[flieArr.length - 1];\r\n    } catch (err) {\r\n        suffix = '';\r\n    }\r\n    // fileName无后缀返回 false\r\n    if (!suffix) { return false; }\r\n    suffix = suffix.toLocaleLowerCase();\r\n    // 图片格式\r\n    const imglist = ['png', 'jpg', 'jpeg', 'bmp', 'gif'];\r\n    // 进行图片匹配\r\n    result = imglist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'image';\r\n    }\r\n    // 匹配txt\r\n    const txtlist = ['txt'];\r\n    result = txtlist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'txt';\r\n    }\r\n    // 匹配 excel\r\n    const excelist = ['xls', 'xlsx'];\r\n    result = excelist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'excel';\r\n    }\r\n    // 匹配 word\r\n    const wordlist = ['doc', 'docx'];\r\n    result = wordlist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'word';\r\n    }\r\n    // 匹配 pdf\r\n    const pdflist = ['pdf'];\r\n    result = pdflist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'pdf';\r\n    }\r\n    // 匹配 ppt\r\n    const pptlist = ['ppt', 'pptx'];\r\n    result = pptlist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'ppt';\r\n    }\r\n    // 匹配 视频\r\n    const videolist = ['mp4', 'm2v', 'mkv', 'rmvb', 'wmv', 'avi', 'flv', 'mov', 'm4v'];\r\n    result = videolist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'video';\r\n    }\r\n    // 匹配 音频\r\n    const radiolist = ['mp3', 'wav', 'wmv'];\r\n    result = radiolist.find(item => item === suffix);\r\n    if (result) {\r\n        return 'radio';\r\n    }\r\n    // 其他 文件类型\r\n    return 'other';\r\n}\r\n\r\nexport function isEqual(value, compare) {\r\n    return value == compare\r\n}\r\n\r\n\r\nexport function hasOwn(object: any, property: string): boolean {\r\n    if (!object || !['number', 'string', 'symbol'].includes(typeof property) ||\r\n        (!isObject(object) && !isArray(object) && !isMap(object) && !isSet(object))\r\n    ) { return false; }\r\n    if (isMap(object) || isSet(object)) { return object.has(property); }\r\n    if (typeof property === 'number') {\r\n        if (isArray(object)) { return object[<number>property]; }\r\n        property = property + '';\r\n    }\r\n    return object.hasOwnProperty(property);\r\n}","import { Injectable, Injector } from '@angular/core';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { NzUploadFile } from 'ng-zorro-antd/upload';\r\nimport { FileCheckComponent } from '../components/file-check/file-check.component';\r\nimport { isImageType, isVideoType, getFileType, isEqual } from './../theme/utils/util'\r\n\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ComponentsService {\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private modal: NzModalService,\r\n  ) { }\r\n\r\n  getBase64(file: File): Promise<string | ArrayBuffer | null> {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n  }\r\n\r\n  filePreview = async (file: NzUploadFile) => {\r\n    if ((isImageType(file.type) || isEqual(getFileType(file.name), 'image')) && !file.url && !file.preview) {\r\n      file.preview = await this.getBase64(file.originFileObj!);\r\n      // console.log(file.preview)\r\n    }\r\n    const _url = file.url || file.preview;\r\n\r\n    if (isImageType(file.type) || isEqual(getFileType(file.name), 'image')) {\r\n      this.modal.create({\r\n        nzContent: `<img src=\"${_url}\" width=\"100%\"/>`,\r\n        nzFooter: null,\r\n      });\r\n    } else if (isVideoType(file.type) || isEqual(getFileType(file.name), 'video')) {\r\n      this.modal.create({\r\n        nzContent: `<video src=\"${_url}\" controls=\"controls\" width=\"100%\">您的浏览器不支持视频播放</video>`,\r\n        nzFooter: null,\r\n      });\r\n    } else {\r\n      // this.injector.get<NzModalService>(NzModalService).create({\r\n      //   nzContent: `<p class=\"text-center\" >暂时无法查看实时文件</p>`,\r\n      //   nzFooter: null,\r\n      // });\r\n      window.open(_url)\r\n    }\r\n  };\r\n}\r\n","import { Component, OnInit, Input, SimpleChanges } from '@angular/core';\r\nimport { AZLoadingType, AZLoadingSize } from './loading.interface';\r\n\r\n\r\nconst loaderAllType: any = [\r\n  { type: 'ball-pulse', num: 3, },\r\n  { type: 'ball-grid-pulse', num: 9, },\r\n  { type: 'ball-clip-rotate', num: 1, },\r\n  { type: 'ball-clip-rotate-pulse', num: 2, },\r\n  { type: 'square-spin', num: 1, },\r\n  { type: 'ball-clip-rotate-multiple', num: 2, },\r\n  { type: 'ball-pulse-rise', num: 5, },\r\n  { type: 'ball-rotate', num: 1, },\r\n  { type: 'cube-transition', num: 2, },\r\n  { type: 'ball-zig-zag', num: 2, },\r\n  { type: 'ball-zig-zag-deflect', num: 2, },\r\n  { type: 'ball-triangle-path', num: 3, },\r\n  { type: 'ball-scale', num: 1, },\r\n  { type: 'line-scale', num: 5, },\r\n  { type: 'line-scale-party', num: 4, },\r\n  { type: 'ball-scale-multiple', num: 3, },\r\n  { type: 'ball-pulse-sync', num: 3, },\r\n  { type: 'ball-beat', num: 3, },\r\n  { type: 'line-scale-pulse-out', num: 5, },\r\n  { type: 'line-scale-pulse-out-rapid', num: 5, },\r\n  { type: 'ball-scale-ripple', num: 1, },\r\n  { type: 'ball-scale-ripple-multiple', num: 3, },\r\n  { type: 'ball-spin-fade-loader', num: 8, },\r\n  { type: 'line-spin-fade-loader', num: 8, },\r\n  { type: 'triangle-skew-spin', num: 1, },\r\n  { type: 'pacman', num: 5, },\r\n  { type: 'ball-grid-beat', num: 9, },\r\n  { type: 'semi-circle-spin', num: 1, },\r\n]\r\n\r\n@Component({\r\n  selector: 'az-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.styl']\r\n})\r\nexport class LoadingComponent implements OnInit {\r\n\r\n  @Input() type?: AZLoadingType='ball-beat';\r\n  @Input() loading?: boolean = false;\r\n  @Input() color?: string = \"#000\";\r\n  @Input() size?: AZLoadingSize;\r\n\r\n  className: AZLoadingType = 'ball-beat';\r\n  loadList: any = [1,1,1,];\r\n  _size: number = 10;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.\r\n    //Add '${implements OnChanges}' to the class.\r\n    if (changes['type']) {\r\n      this._getLoader(changes['type'].currentValue)\r\n    }\r\n    if (changes['size']) {\r\n      this._getSize(changes['size'].currentValue)\r\n    }\r\n  }\r\n\r\n  _getSize(size) {\r\n    switch (size) {\r\n      case 'samll':\r\n        this._size = 5\r\n        break;\r\n      case 'large':\r\n        this._size = 15\r\n        break;\r\n      default: this._size = 10\r\n        break;\r\n    }\r\n  }\r\n  _getLoader(type) {\r\n    for (const iterator of loaderAllType) {\r\n      if (iterator.type == type) {\r\n        this.loadList = new Array(iterator.num);\r\n      }\r\n    }\r\n    this.className = type\r\n  }\r\n}\r\n\r\n\r\n","import { Injectable, ChangeDetectorRef, EventEmitter, Injector, OnDestroy, OnInit, ComponentRef, ViewRef, } from '@angular/core';\r\nimport { ComponentPortal, } from '@angular/cdk/portal';\r\nimport { ComponentType, Overlay, OverlayConfig, OverlayRef, ConnectedPositionStrategy,OverlayContainer,CdkOverlayOrigin } from '@angular/cdk/overlay';\r\nimport { LoadingComponent } from '../../components/loading/loading.component';\r\nimport '@angular/cdk/overlay-prebuilt.css';\r\n// import '../../components/loading/loading.component.styl'\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LoadingService {\r\n  private component: ComponentRef<LoadingComponent>;\r\n  private overlayRef: OverlayRef;\r\n  private hasBackdrop:boolean = true;\r\n\r\n  constructor(\r\n    readonly overlay: Overlay,\r\n    readonly overlayContainer: OverlayContainer\r\n  ) { }\r\n\r\n  create( option?: any,container?: any) {\r\n    this.overlayRef = this.overlay.create({\r\n      hasBackdrop: this.hasBackdrop,\r\n      width:'100%',\r\n      height:'100%',\r\n      panelClass: ['modal', 'is-active'],\r\n      backdropClass: 'modal-background',\r\n      scrollStrategy: this.overlay.scrollStrategies.block(),\r\n    });\r\n    this.component = this.overlayRef.attach(new ComponentPortal(LoadingComponent),);\r\n    this._getComponentInstance(this.component.instance, option)\r\n  }\r\n\r\n  _getComponentInstance(instance, option?: any) {\r\n    instance.loading = true;\r\n    if (option && option.color) {\r\n      instance.color = option.color\r\n    }\r\n    if (option && option.type) {\r\n      instance.type = option.type\r\n    }\r\n    if (option && option.size) {\r\n      instance.size = option.size\r\n    }\r\n  }\r\n\r\n\r\n  destroy(container?: any) {\r\n    this.component.destroy()\r\n    this.overlayRef.dispose();\r\n  }\r\n}\r\n","import { Component, Input, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\nimport { NzUploadFile } from '../upload/interface';\nimport { isImageType, isVideoType, getFileType, isEqual } from './../../theme/utils/util'\n\n@Component({\n  selector: 'az-file-view',\n  templateUrl: './file-check.component.html',\n  styleUrls: ['./file-check.component.styl']\n})\nexport class FileCheckComponent implements OnInit {\n  @ViewChild('element', { read: ViewContainerRef }) public element: ViewContainerRef;\n\n  @Input() fileList: NzUploadFile[] = [];\n  @Input() index: number = 0;\n\n  show:boolean = true;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  getType(name) {\n    return getFileType(name)\n  }\n\n  close(){\n    this.show = false\n  }\n\n\n  changeIndex(type) {\n    switch (type) {\n      case 'next':\n        if (this.index + 1 >= this.fileList.length) {\n          this.index = 0\n        } else {\n          this.index = this.index + 1\n        }\n        break;\n\n      case 'perv':\n        if (this.index - 1 < 0) {\n          this.index = this.fileList.length - 1\n        } else {\n          this.index = this.index - 1\n        }\n        break;\n    }\n  }\n}\n","import { Injectable, ChangeDetectorRef, EventEmitter, Injector, OnDestroy, OnInit, ComponentRef, ViewRef, } from '@angular/core';\nimport { ComponentPortal, } from '@angular/cdk/portal';\nimport { ComponentType, Overlay, OverlayConfig, OverlayRef, ConnectedPositionStrategy, OverlayContainer, CdkOverlayOrigin } from '@angular/cdk/overlay';\nimport '@angular/cdk/overlay-prebuilt.css';\nimport { FileCheckComponent } from './../../components/file-check/file-check.component';\nimport { NzUploadFile } from '../../components/upload/interface';\nimport { FileCheck } from '../../components/file-check/file-check'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FileViewService {\n  private component: ComponentRef<FileCheckComponent>;\n  private overlayRef: OverlayRef;\n  private hasBackdrop: boolean = true;\n\n  constructor(\n    readonly overlay: Overlay,\n    readonly overlayContainer: OverlayContainer\n  ) { }\n\n\n\n  show() {\n    console.log(\"456\")\n  }\n\n  create(options?: FileCheck, ) {\n    this.overlayRef = this.overlay.create();\n    this.component = this.overlayRef.attach(new ComponentPortal(FileCheckComponent));\n    this._getComponentInstance(this.component.instance, options)\n  }\n\n  _getComponentInstance(instance, options?: FileCheck,) {\n    if (options.fileList) {\n      instance.fileList = options.fileList\n    }\n    if (options.index) {\n      instance.index = options.index\n    }\n  }\n\n\n  destroy() {\n    this.component.destroy()\n    this.overlayRef.dispose();\n  }\n}\n","/**\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Observable, Subscription } from 'rxjs';\r\n\r\nimport { IndexableObject, NzSafeAny } from 'ng-zorro-antd/core/types';\r\n\r\n/** Status */\r\nexport type UploadFileStatus = 'error' | 'success' | 'done' | 'uploading' | 'removed';\r\n\r\nexport type NzUploadType = 'select' | 'drag';\r\n\r\n/** Built-in styles of the uploading list. */\r\nexport type NzUploadListType = 'text' | 'picture' | 'picture-card';\r\n\r\nexport interface NzUploadFile {\r\n  uid: string;\r\n  size?: number;\r\n  name: string;\r\n  filename?: string;\r\n  lastModified?: string;\r\n  lastModifiedDate?: Date;\r\n  url?: string;\r\n  status?: UploadFileStatus;\r\n  originFileObj?: File;\r\n  percent?: number;\r\n  thumbUrl?: string;\r\n  response?: NzSafeAny;\r\n  error?: NzSafeAny;\r\n  linkProps?: { download: string };\r\n  type?: string;\r\n\r\n  [key: string]: NzSafeAny;\r\n}\r\n\r\nexport interface NzUploadChangeParam {\r\n  file: NzUploadFile;\r\n  fileList: NzUploadFile[];\r\n  event?: { percent: number };\r\n  /** Callback type. */\r\n  type?: string;\r\n}\r\n\r\nexport interface NzShowUploadList {\r\n  showRemoveIcon?: boolean;\r\n  showPreviewIcon?: boolean;\r\n  showDownloadIcon?: boolean;\r\n}\r\n\r\nexport type NzUploadTransformFileType = string | Blob | NzUploadFile | Observable<string | Blob | File>;\r\n\r\nexport interface ZipButtonOptions {\r\n  compress?: boolean;\r\n  quality?: Number;\r\n  convertSize?: Number;\r\n  disabled?: boolean;\r\n  accept?: string | string[];\r\n  action?: string | ((file: NzUploadFile) => string | Observable<string>);\r\n  directory?: boolean;\r\n  openFileDialogOnClick?: boolean;\r\n  beforeUpload?(file: NzUploadFile, fileList: NzUploadFile[]): boolean | Observable<NzSafeAny>;\r\n  customRequest?(item: NzSafeAny): Subscription;\r\n  data?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\r\n  headers?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\r\n  name?: string;\r\n  multiple?: boolean;\r\n  withCredentials?: boolean;\r\n  filters?: UploadFilter[];\r\n  transformFile?(file: NzUploadFile): NzUploadTransformFileType;\r\n  onStart?(file: NzUploadFile): void;\r\n  onProgress?(e: NzSafeAny, file: NzUploadFile): void;\r\n  onSuccess?(ret: NzSafeAny, file: NzUploadFile, xhr: NzSafeAny): void;\r\n  onError?(err: NzSafeAny, file: NzUploadFile): void;\r\n}\r\n\r\nexport interface UploadFilter {\r\n  name: string;\r\n  fn(fileList: NzUploadFile[]): NzUploadFile[] | Observable<NzUploadFile[]>;\r\n}\r\n\r\nexport interface NzUploadXHRArgs {\r\n  action?: string;\r\n  name?: string;\r\n  headers?: IndexableObject;\r\n  file: NzUploadFile;\r\n  postFile: string | Blob | File | NzUploadFile;\r\n  data?: IndexableObject;\r\n  withCredentials?: boolean;\r\n  onProgress?(e: NzSafeAny, file: NzUploadFile): void;\r\n  onSuccess?(ret: NzSafeAny, file: NzUploadFile, xhr: NzSafeAny): void;\r\n  onError?(err: NzSafeAny, file: NzUploadFile): void;\r\n}\r\n\r\n/**\r\n * @deprecated Use {@link NzUploadType} from {@link @ng-zorro-antd/upload} instead.\r\n * @breaking-change 10.0.0\r\n */\r\nexport type UploadType = NzUploadType;\r\n\r\n/**\r\n * @deprecated Use {@link NzUploadListType} from {@link @ng-zorro-antd/upload} instead.\r\n * @breaking-change 10.0.0\r\n */\r\nexport type UploadListType = NzUploadListType;\r\n\r\n/**\r\n * @deprecated Use {@link NzUploadFile} from {@link @ng-zorro-antd/upload} instead.\r\n * @breaking-change 10.0.0\r\n */\r\nexport type UploadFile = NzUploadFile;\r\n\r\n/**\r\n * @deprecated Use {@link NzUploadChangeParam} from {@link @ng-zorro-antd/upload} instead.\r\n * @breaking-change 10.0.0\r\n */\r\nexport type UploadChangeParam = NzUploadChangeParam;\r\n\r\n/**\r\n * @deprecated Use {@link NzShowUploadList} from {@link @ng-zorro-antd/upload} instead.\r\n * @breaking-change 10.0.0\r\n */\r\nexport type ShowUploadListInterface = NzShowUploadList;\r\n\r\n/**\r\n * @deprecated Use {@link NzUploadTransformFileType} from {@link @ng-zorro-antd/upload} instead.\r\n * @breaking-change 10.0.0\r\n */\r\nexport type UploadTransformFileType = NzUploadTransformFileType;\r\n\r\n/**\r\n * @deprecated Use {@link NzUploadXHRArgs} from {@link @ng-zorro-antd/upload} instead.\r\n * @breaking-change 10.0.0\r\n */\r\nexport type UploadXHRArgs = NzUploadXHRArgs;\r\n\r\nexport class NzShowUploadListInterface {}\r\n","import { FullLocaleData } from '../locale.types';\r\n\r\nexport default {\r\n  abbr: 'zh-TW',\r\n  zt: {\r\n    emptyText: '暫無數據',\r\n    clearText: '清空',\r\n    total: '共 {{total}} 條',\r\n  },\r\n  zu: {\r\n    uploading: '正在上傳...',\r\n    removeFile: '刪除檔案',\r\n    uploadError: '上傳失敗',\r\n    previewFile: '檔案預覽',\r\n    downloadFile: '下载文件',\r\n    uploadStorage: '暫存檔案'\r\n  },\r\n  zf:{\r\n    submit:'提交',\r\n    cancel:'取消',\r\n  }\r\n} as FullLocaleData;\r\n","import { FullLocaleData } from '../locale.types';\r\n\r\nexport default {\r\n  abbr: 'en-US',\r\n  zt: {\r\n    emptyText: 'No data',\r\n    clearText: 'Clear',\r\n    total: '{{range[0]}} - {{range[1]}} of {{total}}',\r\n  },\r\n  zu: {\r\n    uploading: 'Uploading...',\r\n    removeFile: 'Remove file',\r\n    uploadError: 'Upload error',\r\n    previewFile: 'Preview file',\r\n    downloadFile: 'Download file',\r\n    uploadStorage: 'Temporary storage'\r\n  },\r\n  zf:{\r\n    submit:'Submit',\r\n    cancel:'Cancel',\r\n  }\r\n  \r\n} as FullLocaleData;\r\n","import { Component, OnInit, Input, SimpleChanges } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ZCOptions } from './card.interface';\r\n\r\n@Component({\r\n  selector: 'zc',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.styl']\r\n})\r\nexport class CardComponent implements OnInit {\r\n  @Input() options: ZCOptions;\r\n  @Input() loading: boolean = false;\r\n  _selectedIndex = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.options)\r\n  }\r\n\r\n  _getExtraLink(link: string) {\r\n    console.log(\"link:\" + link);\r\n    if (link == 'back') {\r\n      history.go(-1)\r\n    } else {\r\n      this.router.navigateByUrl(link)\r\n    }\r\n  }\r\n\r\n\r\n  _selectChange(args: any[]): void {\r\n    this._selectedIndex = args[0].index\r\n  }\r\n\r\n}\r\n","/**\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ENTER } from '@angular/cdk/keycodes';\r\nimport { HttpClient, HttpEvent, HttpEventType, HttpHeaders, HttpRequest, HttpResponse } from '@angular/common/http';\r\nimport { Component, ElementRef, Input, OnDestroy, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { warn } from 'ng-zorro-antd/core/logger';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { Observable, of, Subscription } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\n\r\nimport { FilesServiceService } from './files-service.service';\r\nimport { ComponentsService } from './../../service/components.service';\r\n\r\nimport { NzUploadFile, NzUploadXHRArgs, ZipButtonOptions } from './interface';\r\n\r\n@Component({\r\n  selector: '[nz-upload-btn]',\r\n  exportAs: 'nzUploadBtn',\r\n  templateUrl: './upload-btn.component.html',\r\n  host: {\r\n    '[attr.tabindex]': '\"0\"',\r\n    '[attr.role]': '\"button\"',\r\n    '[class.ant-upload]': 'true',\r\n    '[class.ant-upload-disabled]': 'options.disabled',\r\n    '(click)': 'onClick()',\r\n    '(keydown)': 'onKeyDown($event)',\r\n    '(drop)': 'onFileDrop($event)',\r\n    '(dragover)': 'onFileDrop($event)'\r\n  },\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class UploadBtnComponent implements OnDestroy {\r\n  reqs: { [key: string]: Subscription } = {};\r\n  private destroy = false;\r\n  @ViewChild('file', { static: false }) file!: ElementRef;\r\n  @Input() options!: ZipButtonOptions;\r\n  onClick(): void {\r\n    if (this.options.disabled || !this.options.openFileDialogOnClick) {\r\n      return;\r\n    }\r\n    (this.file.nativeElement as HTMLInputElement).click();\r\n  }\r\n\r\n  onKeyDown(e: KeyboardEvent): void {\r\n    if (this.options.disabled) {\r\n      return;\r\n    }\r\n    if (e.key === 'Enter' || e.keyCode === ENTER) {\r\n      this.onClick();\r\n    }\r\n  }\r\n\r\n  // skip safari bug\r\n  onFileDrop(e: DragEvent): void {\r\n    if (this.options.disabled || e.type === 'dragover') {\r\n      e.preventDefault();\r\n      return;\r\n    }\r\n    if (this.options.directory) {\r\n      this.traverseFileTree(e.dataTransfer!.items);\r\n    } else {\r\n      const files: File[] = Array.prototype.slice\r\n        .call(e.dataTransfer!.files)\r\n        .filter((file: File) => this.attrAccept(file, this.options.accept));\r\n      if (files.length) {\r\n        this.uploadFiles(files);\r\n      }\r\n    }\r\n\r\n    e.preventDefault();\r\n  }\r\n\r\n  onChange(e: Event): void {\r\n    if (this.options.disabled) {\r\n      return;\r\n    }\r\n    const hie = e.target as HTMLInputElement;\r\n    this.uploadFiles(hie.files!);\r\n    hie.value = '';\r\n  }\r\n\r\n  private traverseFileTree(files: DataTransferItemList): void {\r\n    const _traverseFileTree = (item: NzSafeAny, path: string) => {\r\n      if (item.isFile) {\r\n        item.file((file: File) => {\r\n          if (this.attrAccept(file, this.options.accept)) {\r\n            this.uploadFiles([file]);\r\n          }\r\n        });\r\n      } else if (item.isDirectory) {\r\n        const dirReader = item.createReader();\r\n\r\n        dirReader.readEntries((entries: NzSafeAny) => {\r\n          for (const entrieItem of entries) {\r\n            _traverseFileTree(entrieItem, `${path}${item.name}/`);\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    for (const file of files as NzSafeAny) {\r\n      _traverseFileTree(file.webkitGetAsEntry(), '');\r\n    }\r\n  }\r\n\r\n  private attrAccept(file: File, acceptedFiles?: string | string[]): boolean {\r\n    if (file && acceptedFiles) {\r\n      const acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\r\n      const fileName = '' + file.name;\r\n      const mimeType = '' + file.type;\r\n      const baseMimeType = mimeType.replace(/\\/.*$/, '');\r\n\r\n      return acceptedFilesArray.some(type => {\r\n        const validType = type.trim();\r\n        if (validType.charAt(0) === '.') {\r\n          return (\r\n            fileName.toLowerCase().indexOf(validType.toLowerCase(), fileName.toLowerCase().length - validType.toLowerCase().length) !== -1\r\n          );\r\n        } else if (/\\/\\*$/.test(validType)) {\r\n          // This is something like a image/* mime type\r\n          return baseMimeType === validType.replace(/\\/.*$/, '');\r\n        }\r\n        return mimeType === validType;\r\n      });\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private attachUid(file: NzUploadFile): NzUploadFile {\r\n    if (!file.uid) {\r\n      file.uid = Math.random().toString(36).substring(2);\r\n    }\r\n    return file;\r\n  }\r\n\r\n  uploadFiles(fileList: FileList | File[]): void {\r\n    let filters$: Observable<NzUploadFile[]> = of(Array.prototype.slice.call(fileList));\r\n    if (this.options.filters) {\r\n      this.options.filters.forEach(f => {\r\n        filters$ = filters$.pipe(\r\n          switchMap(list => {\r\n            const fnRes = f.fn(list);\r\n            return fnRes instanceof Observable ? fnRes : of(fnRes);\r\n          })\r\n        );\r\n      });\r\n    }\r\n    filters$.subscribe(\r\n      list => {\r\n        list.forEach((file: NzUploadFile) => {\r\n          this.attachUid(file);\r\n          this.upload(file, list);\r\n        });\r\n      },\r\n      e => {\r\n        warn(`Unhandled upload filter error`, e);\r\n      }\r\n    );\r\n  }\r\n\r\n  async upload (file: NzUploadFile, fileList: NzUploadFile[]) {\r\n    if (this.options.compress && fileList && fileList.length == 1) {\r\n      const res:any =  await this.fileService.compress(fileList[0],this.options.quality,this.options.convertSize)\r\n      res.uid = file.uid;\r\n      file = res\r\n      fileList[0] = res\r\n    }\r\n\r\n    if (!this.options.beforeUpload) {\r\n      return this.post(file);\r\n    }\r\n    const before = this.options.beforeUpload(file, fileList);\r\n    if (before instanceof Observable) {\r\n      before.subscribe(\r\n        (processedFile: NzUploadFile) => {\r\n          const processedFileType = Object.prototype.toString.call(processedFile);\r\n          if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\r\n            this.attachUid(processedFile);\r\n            this.post(processedFile);\r\n          } else if (typeof processedFile === 'boolean' && processedFile !== false) {\r\n            this.post(file);\r\n          }\r\n        },\r\n        e => {\r\n          warn(`Unhandled upload beforeUpload error`, e);\r\n        }\r\n      );\r\n    } else if (before !== false) {\r\n      return this.post(file);\r\n    }\r\n  }\r\n\r\n  private post(file: NzUploadFile): void {\r\n    if (this.destroy) {\r\n      return;\r\n    }\r\n    let process$: Observable<string | Blob | File | NzUploadFile> = of(file);\r\n    const opt = this.options;\r\n    const { uid } = file;\r\n    const { action, data, headers, transformFile } = opt;\r\n\r\n    const args: NzUploadXHRArgs = {\r\n      action: typeof action === 'string' ? action : '',\r\n      name: opt.name,\r\n      headers,\r\n      file,\r\n      postFile: file,\r\n      data,\r\n      withCredentials: opt.withCredentials,\r\n      onProgress: opt.onProgress\r\n        ? e => {\r\n          opt.onProgress!(e, file);\r\n        }\r\n        : undefined,\r\n      onSuccess: (ret, xhr) => {\r\n        this.clean(uid);\r\n        opt.onSuccess!(ret, file, xhr);\r\n      },\r\n      onError: xhr => {\r\n        this.clean(uid);\r\n        opt.onError!(xhr, file);\r\n      }\r\n    };\r\n\r\n    if (typeof action === 'function') {\r\n      const actionResult = (action as (file: NzUploadFile) => string | Observable<string>)(file);\r\n      if (actionResult instanceof Observable) {\r\n        process$ = process$.pipe(\r\n          switchMap(() => actionResult),\r\n          map(res => {\r\n            args.action = res;\r\n            return file;\r\n          })\r\n        );\r\n      } else {\r\n        args.action = actionResult;\r\n      }\r\n    }\r\n\r\n    if (typeof transformFile === 'function') {\r\n      const transformResult = transformFile(file);\r\n      process$ = process$.pipe(switchMap(() => (transformResult instanceof Observable ? transformResult : of(transformResult))));\r\n    }\r\n\r\n    if (typeof data === 'function') {\r\n      const dataResult = (data as (file: NzUploadFile) => {} | Observable<{}>)(file);\r\n      if (dataResult instanceof Observable) {\r\n        process$ = process$.pipe(\r\n          switchMap(() => dataResult),\r\n          map(res => {\r\n            args.data = res;\r\n            return file;\r\n          })\r\n        );\r\n      } else {\r\n        args.data = dataResult;\r\n      }\r\n    }\r\n\r\n    if (typeof headers === 'function') {\r\n      const headersResult = (headers as (file: NzUploadFile) => {} | Observable<{}>)(file);\r\n      if (headersResult instanceof Observable) {\r\n        process$ = process$.pipe(\r\n          switchMap(() => headersResult),\r\n          map(res => {\r\n            args.headers = res;\r\n            return file;\r\n          })\r\n        );\r\n      } else {\r\n        args.headers = headersResult;\r\n      }\r\n    }\r\n\r\n    process$.subscribe(newFile => {\r\n      args.postFile = newFile;\r\n      const req$ = (opt.customRequest || this.xhr).call(this, args);\r\n      if (!(req$ instanceof Subscription)) {\r\n        warn(`Must return Subscription type in '[nzCustomRequest]' property`);\r\n      }\r\n      this.reqs[uid] = req$;\r\n      opt.onStart!(file);\r\n    });\r\n  }\r\n\r\n  private xhr(args: NzUploadXHRArgs): Subscription {\r\n    const formData = new FormData();\r\n\r\n    if (args.data) {\r\n      Object.keys(args.data).map(key => {\r\n        formData.append(key, args.data![key]);\r\n      });\r\n    }\r\n\r\n    formData.append(args.name!, args.postFile as NzSafeAny);\r\n\r\n    if (!args.headers) {\r\n      args.headers = {};\r\n    }\r\n    if (args.headers['X-Requested-With'] !== null) {\r\n      args.headers['X-Requested-With'] = `XMLHttpRequest`;\r\n    } else {\r\n      delete args.headers['X-Requested-With'];\r\n    }\r\n    const req = new HttpRequest('POST', args.action!, formData, {\r\n      reportProgress: true,\r\n      withCredentials: args.withCredentials,\r\n      headers: new HttpHeaders(args.headers)\r\n    });\r\n    return this.http.request(req).subscribe(\r\n      (event: HttpEvent<NzSafeAny>) => {\r\n        if (event.type === HttpEventType.UploadProgress) {\r\n          if (event.total! > 0) {\r\n            (event as NzSafeAny).percent = (event.loaded / event.total!) * 100;\r\n          }\r\n          args.onProgress!(event, args.file);\r\n        } else if (event instanceof HttpResponse) {\r\n          args.onSuccess!(event.body, args.file, event);\r\n        }\r\n      },\r\n      err => {\r\n        this.abort(args.file);\r\n        args.onError!(err, args.file);\r\n      }\r\n    );\r\n  }\r\n\r\n  private clean(uid: string): void {\r\n    const req$ = this.reqs[uid];\r\n    if (req$ instanceof Subscription) {\r\n      req$.unsubscribe();\r\n    }\r\n    delete this.reqs[uid];\r\n  }\r\n\r\n  abort(file?: NzUploadFile): void {\r\n    if (file) {\r\n      this.clean(file && file.uid);\r\n    } else {\r\n      Object.keys(this.reqs).forEach(uid => this.clean(uid));\r\n    }\r\n  }\r\n\r\n  constructor(@Optional() private http: HttpClient,private fileService:FilesServiceService,private comService:ComponentsService) {\r\n    if (!http) {\r\n      throw new Error(`Not found 'HttpClient', You can import 'HttpClientModule' in your root module.`);\r\n    }\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy = true;\r\n    this.abort();\r\n  }\r\n}\r\n","/**\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { animate, style, transition, trigger } from '@angular/animations';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Inject,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation,\r\n  EventEmitter,\r\n  Output\r\n} from '@angular/core';\r\nimport { NgClassType, NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { NzShowUploadList, NzUploadFile, NzUploadListType } from './interface';\r\n\r\nconst isImageFileType = (type: string): boolean => !!type && type.indexOf('image/') === 0;\r\n\r\nconst MEASURE_SIZE = 200;\r\n\r\ntype UploadListIconType = '' | 'uploading' | 'thumbnail';\r\n\r\ninterface UploadListFile extends NzUploadFile {\r\n  isImageUrl?: boolean;\r\n  isUploading?: boolean;\r\n  iconType?: UploadListIconType;\r\n  listItemNameCls?: NgClassType;\r\n  showDownload?: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'nz-upload-list',\r\n  exportAs: 'nzUploadList',\r\n  templateUrl: './upload-list.component.html',\r\n  animations: [\r\n    trigger('itemState', [\r\n      transition(':enter', [style({ height: '0', width: '0', opacity: 0 }), animate(150, style({ height: '*', width: '*', opacity: 1 }))]),\r\n      transition(':leave', [animate(150, style({ height: '0', width: '0', opacity: 0 }))])\r\n    ])\r\n  ],\r\n  host: {\r\n    '[class.ant-upload-list]': `true`,\r\n    '[class.ant-upload-list-text]': `listType === 'text'`,\r\n    '[class.ant-upload-list-picture]': `listType === 'picture'`,\r\n    '[class.ant-upload-list-picture-card]': `listType === 'picture-card'`\r\n  },\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class UploadListComponent implements OnChanges {\r\n  list: UploadListFile[] = [];\r\n\r\n  private get showPic(): boolean {\r\n    return this.listType === 'picture' || this.listType === 'picture-card';\r\n  }\r\n\r\n  @Input() locale: NzSafeAny = {};\r\n  @Input() nzSort: boolean = false;\r\n  @Input() listType!: NzUploadListType;\r\n  @Input() nzAction?: string | ((file: NzUploadFile) => string | Observable<string>);\r\n  @Input()\r\n  set items(list: NzUploadFile[]) {\r\n    this.list = list;\r\n  }\r\n\r\n  @Input() icons!: NzShowUploadList;\r\n  @Input() onPreview?: (file: NzUploadFile) => void;\r\n  @Input() onRemove!: (file: NzUploadFile) => void;\r\n  @Input() onDownload?: (file: NzUploadFile) => void;\r\n  @Input() previewFile?: (file: NzUploadFile) => Observable<string>;\r\n  @Input() iconRender: TemplateRef<NzSafeAny> | null = null;\r\n\r\n  @Output() private listChange = new EventEmitter<any>();\r\n\r\n  private genErr(file: NzUploadFile): string {\r\n    if (file.response && typeof file.response === 'string') {\r\n      return file.response;\r\n    }\r\n    return (file.error && file.error.statusText) || (this.locale?(this.nzAction?this.locale.uploadError:this.locale.uploadStorage):'loading...');\r\n  }\r\n\r\n  private extname(url: string): string {\r\n    const temp = url.split('/');\r\n    const filename = temp[temp.length - 1];\r\n    const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\r\n    return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\r\n  }\r\n\r\n  isImageUrl(file: NzUploadFile): boolean {\r\n    if (isImageFileType(file.type!)) {\r\n      return true;\r\n    }\r\n    const url: string = (file.thumbUrl || file.url || '') as string;\r\n    if (!url) {\r\n      return false;\r\n    }\r\n    const extension = this.extname(url);\r\n    if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\r\n      return true;\r\n    } else if (/^data:/.test(url)) {\r\n      // other file types of base64\r\n      return false;\r\n    } else if (extension) {\r\n      // other file types which have extension\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private getIconType(file: UploadListFile): UploadListIconType {\r\n    if (!this.showPic) {\r\n      return '';\r\n    }\r\n    if (file.isUploading || (!file.thumbUrl && !file.url)) {\r\n      return 'uploading';\r\n    } else {\r\n      return 'thumbnail';\r\n    }\r\n  }\r\n\r\n  private previewImage(file: File | Blob): Promise<string> {\r\n    return new Promise(resolve => {\r\n      if (!isImageFileType(file.type)) {\r\n        resolve('');\r\n        return;\r\n      }\r\n      this.ngZone.runOutsideAngular(() => {\r\n        const canvas = this.doc.createElement('canvas');\r\n        canvas.width = MEASURE_SIZE;\r\n        canvas.height = MEASURE_SIZE;\r\n        canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\r\n        this.doc.body.appendChild(canvas);\r\n        const ctx = canvas.getContext('2d');\r\n        const img = new Image();\r\n        img.onload = () => {\r\n          const { width, height } = img;\r\n\r\n          let drawWidth = MEASURE_SIZE;\r\n          let drawHeight = MEASURE_SIZE;\r\n          let offsetX = 0;\r\n          let offsetY = 0;\r\n\r\n          if (width < height) {\r\n            drawHeight = height * (MEASURE_SIZE / width);\r\n            offsetY = -(drawHeight - drawWidth) / 2;\r\n          } else {\r\n            drawWidth = width * (MEASURE_SIZE / height);\r\n            offsetX = -(drawWidth - drawHeight) / 2;\r\n          }\r\n\r\n          try {\r\n            ctx!.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\r\n          } catch {}\r\n          const dataURL = canvas.toDataURL();\r\n          this.doc.body.removeChild(canvas);\r\n\r\n          resolve(dataURL);\r\n        };\r\n        img.src = window.URL.createObjectURL(file);\r\n      });\r\n    });\r\n  }\r\n\r\n  private genThumb(): void {\r\n    if (!this.platform.isBrowser) {\r\n      return;\r\n    }\r\n\r\n    const win = window as NzSafeAny;\r\n    if (!this.showPic || typeof document === 'undefined' || typeof win === 'undefined' || !win.FileReader || !win.File) {\r\n      return;\r\n    }\r\n    \r\n    this.list\r\n      .filter(file => file.originFileObj instanceof File && file.thumbUrl === undefined)\r\n      .forEach(file => {\r\n        file.thumbUrl = '';\r\n        (this.previewFile ? this.previewFile(file).toPromise() : this.previewImage(file.originFileObj!)).then(dataUrl => {\r\n          file.thumbUrl = dataUrl;\r\n          this.detectChanges();\r\n        });\r\n      });\r\n  }\r\n\r\n  private listItemNameCls(file: NzUploadFile): NgClassType {\r\n    const count = [this.showDownload(file), this.icons.showRemoveIcon].filter(x => x).length;\r\n    return {\r\n      [`ant-upload-list-item-name`]: true,\r\n      [`ant-upload-list-item-name-icon-count-${count}`]: true\r\n    };\r\n  }\r\n\r\n  private showDownload(file: NzUploadFile): boolean {\r\n    return !!(this.icons.showDownloadIcon && file.status === 'done');\r\n  }\r\n\r\n  private fixData(): void {\r\n    this.list.forEach(file => {\r\n      file.isUploading = file.status === 'uploading';\r\n      file.message = this.genErr(file);\r\n      file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\r\n      file.isImageUrl = this.isImageUrl(file);\r\n      file.iconType = this.getIconType(file);\r\n      file.listItemNameCls = this.listItemNameCls(file);\r\n      file.showDownload = this.showDownload(file);\r\n    });\r\n  }\r\n\r\n  handlePreview(file: NzUploadFile, e: Event): void {\r\n    if (!this.onPreview) {\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n    return this.onPreview(file);\r\n  }\r\n\r\n  handleRemove(file: NzUploadFile, e: Event): void {\r\n    e.preventDefault();\r\n    if (this.onRemove) {\r\n      this.onRemove(file);\r\n    }\r\n    return;\r\n  }\r\n\r\n  handleDownload(file: NzUploadFile): void {\r\n    if (typeof this.onDownload === 'function') {\r\n      this.onDownload(file);\r\n    } else if (file.url) {\r\n      window.open(file.url);\r\n    }\r\n  }\r\n\r\n  // #endregion\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    @Inject(DOCUMENT) private doc: NzSafeAny,\r\n    private ngZone: NgZone,\r\n    private platform: Platform\r\n  ) {}\r\n\r\n  detectChanges(): void {\r\n    this.fixData();\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.fixData();\r\n    this.genThumb();\r\n  }\r\n\r\n  sortChange(e:any){\r\n   this.list= e\r\n   this.listChange.emit(e)\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'renderPipe'\r\n})\r\nexport class RenderPipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  \r\n  transform(value: any, row: object, columnCode: String, render = function (row: object, columnCode: String) { return \"\" }): any {\r\n    return this.sanitizer.bypassSecurityTrustHtml(render(row, columnCode));\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport _ from 'lodash';\r\n// let _ = require(\"lodash\");\r\n\r\n@Pipe({\r\n  name: 'tablePipe'\r\n})\r\nexport class TablePipe implements PipeTransform {\r\n\r\n  transform(value: any, items: any[]): any {\r\n    value = value + '';\r\n    if (items && items.length >= 0) {\r\n      if (!_.isEmpty(value)) {\r\n        let valueArr = value.split(',');\r\n        let resultArr = new Array();\r\n        for (let n = 0; n < valueArr.length; n++) {\r\n          for (let i = 0; i < items.length; i++) {\r\n            if (valueArr[n] == items[i].code + '') {\r\n              resultArr.push(items[i].label);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return resultArr.join(\",\");\r\n      } else {\r\n        return \"\";\r\n      }\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule, } from '@angular/core';\nimport { CommonModule, registerLocaleData } from '@angular/common';\nimport { NzIconModule, NzCardModule, NzTabsModule, NzButtonModule, NzDividerModule, NzTableModule, NzSpinModule, NzCheckboxModule, NzRadioModule, NzProgressModule, NzModalService, NzEmptyModule } from 'ng-zorro-antd'\n\nimport { DroppableComponent } from './lib/components/droppable/droppable.component';\nimport { CardComponent } from './lib/components/card/card.component';\nimport { TableColumnsButtonsComponent } from './lib/components/table/table-columns-buttons/table-columns-buttons.component';\nimport { TableComponent } from './lib/components/table/table.component';\nimport { UploadBtnComponent } from './lib/components/upload/upload-btn.component'\nimport { UploadListComponent } from './lib/components/upload/upload-list.component'\nimport { UploadComponent } from './lib/components/upload/upload.component'\nimport { LoadingComponent } from './lib/components/loading/loading.component'\nimport { FileCheckComponent } from './lib/components/file-check/file-check.component';\n\n\nconst thirdComponents = [\n  DroppableComponent,\n  CardComponent,\n  TableColumnsButtonsComponent,\n  TableComponent,\n  UploadBtnComponent,\n  UploadListComponent,\n  UploadComponent,\n  LoadingComponent,\n  FileCheckComponent\n]\n\nconst thirdModule = [\n  NzCardModule,\n  NzIconModule,\n  NzTabsModule,\n  NzButtonModule,\n  NzDividerModule,\n  NzTableModule,\n  NzSpinModule,\n  NzCheckboxModule,\n  NzRadioModule,\n  NzProgressModule,\n  NzEmptyModule\n]\n\nimport { RenderPipe } from './lib/pipe/table/render.pipe';\nimport { TablePipe } from './lib/pipe/table/table.pipe';\n\nvar pipe_lists = [\n  RenderPipe,\n  TablePipe,\n]\n\n\nimport { OverlayModule, OverlayContainer, FullscreenOverlayContainer } from '@angular/cdk/overlay';\nimport en from '@angular/common/locales/en';\nregisterLocaleData(en);\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\n\n/** 配置 ng-zorro-antd 国际化 **/\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\n\nimport { LocaleModule } from './lib/theme/locale.module';\n\n//拖拽\nimport { SortablejsModule } from 'ngx-sortablejs'\n\n//icon图标\nimport { IconDefinition } from '@ant-design/icons-angular';\n\nimport { AccountBookFill, AlertFill, AlertOutline } from '@ant-design/icons-angular/icons';\n\nconst icons: IconDefinition[] = [ AccountBookFill, AlertOutline, AlertFill ];\n\n\n@NgModule({\n  declarations: [...thirdComponents, ...pipe_lists,],\n  imports: [\n    CommonModule,\n    NzI18nModule,\n    LocaleModule,\n    HttpClientModule,\n    OverlayModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    NzIconModule.forRoot(icons),\n    SortablejsModule.forRoot({ animation: 150 }),\n    ...thirdModule,\n  ],\n  providers: [NzModalService],\n  entryComponents: [LoadingComponent,FileCheckComponent],\n  exports: [...thirdComponents]\n})\nexport class NgZoesModule { }\n","// 国际化\r\nexport * from './lib/theme/locale.module';\r\nexport * from './lib/theme/locale.tokens';\r\nexport * from './lib/theme/locale.types';\r\nexport * from './lib/theme/locale.service';\r\n\r\nexport * from './lib/components/table/table.component';\r\nexport * from './lib/components/table/table-columns-buttons/table-columns-buttons.component';\r\nexport * from './lib/components/droppable/droppable.component';\r\nexport * from './lib/components/upload/upload.component';\r\nexport * from './lib/service/components.service';\r\nexport * from './lib/service/loading/loading.service';\r\nexport * from './lib/service/file-view/file-view.service';\r\n\r\n//定义\r\nexport * from './lib/components/upload/interface';\r\nexport * from './lib/components/card/card.interface';\r\n\r\nexport { default as zh_CN } from './lib/theme/languages/zh-CN';\r\nexport { default as zh_TW } from './lib/theme/languages/zh-TW';\r\nexport { default as en_US } from './lib/theme/languages/en-US';\r\n\r\n\r\nexport * from './ng-zoes.module'\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient,HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TableService {\r\n\r\n  constructor(\r\n    private httpClient:HttpClient,\r\n\r\n  ) { }\r\n\r\n  patchHero(url,params): Observable<{}> {\r\n   return this.httpClient.request('GET', url, params);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport ImageCompressor from 'image-compressor.js'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FilesServiceService {\r\n\r\n  constructor() { }\r\n\r\n  compress = async (file, quality, convertSize) => {\r\n    if (!/image\\/\\w+/.test(file.type)) {\r\n      return false;\r\n    }\r\n    if (file.size < convertSize) {\r\n      return false;\r\n    }\r\n    // 进行图片压缩\r\n    return new Promise((resolve, reject) => {\r\n      new ImageCompressor().compress(file, {\r\n        quality: quality,  //压缩力度\r\n        maxWidth: 1000, //输出图像的最大宽度  minWidth  指定宽度 width\r\n        maxHeight: 1000,  //输出图像的最大高度  minHeight   指定高度 height\r\n        convertSize: 614400, //(614400字节)超过600kb压缩  超过这个值的PNG文件将被转换为jpeg文件。要禁用它，只需将值设置为无穷大\r\n        success(result) {\r\n          resolve(new File([result], file.name,{type:file.type}))\r\n        },\r\n        error(e) {\r\n          reject(e)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CardComponent as ɵb} from './lib/components/card/card.component';\nexport {FileCheckComponent as ɵg} from './lib/components/file-check/file-check.component';\nexport {LoadingComponent as ɵf} from './lib/components/loading/loading.component';\nexport {TableService as ɵa} from './lib/components/table/table.service';\nexport {FilesServiceService as ɵd} from './lib/components/upload/files-service.service';\nexport {UploadBtnComponent as ɵc} from './lib/components/upload/upload-btn.component';\nexport {UploadListComponent as ɵe} from './lib/components/upload/upload-list.component';\nexport {RenderPipe as ɵh} from './lib/pipe/table/render.pipe';\nexport {TablePipe as ɵi} from './lib/pipe/table/table.pipe';"],"names":["toBoolean","NzModalService"],"mappings":"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"}